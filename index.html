<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#00d4ff">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Imposter Game</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div id="setupScreen" class="screen active">
            <h1>Imposter Game</h1>
            <p class="subtitle">Setup Your Game</p>
            
            <div class="input-section">
                <input type="text" id="playerNameInput" placeholder="Enter player name" />
                <button id="addPlayerBtn" class="btn btn-primary">Add Player</button>
            </div>
            
            <div id="playerList" class="player-list"></div>
            
            <div class="action-buttons" style="margin: 15px 0; display: flex; gap: 10px;">
                <button id="clearNamesBtn" class="btn btn-secondary" style="flex: 1;">Clear Names</button>
                <button id="resetAllBtn" class="btn btn-secondary" style="flex: 1;">Reset All</button>
            </div>
            
            <button id="currentCategoryBtn" class="btn btn-primary btn-category">
                Current Category: <span id="currentCategoryLabel">Random</span>
            </button>
            
            <div class="toggle-section">
                <label class="toggle-label">
                    <span>Allow Imposter to Go First?</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="imposterFirstToggle" />
                        <span class="slider"></span>
                    </div>
                </label>
            </div>
            
            <button id="startGameBtn" class="btn btn-success">Start Game</button>
        </div>

        <div id="categorySelectionScreen" class="screen">
            <h2 class="category-title">Choose Category</h2>
            <p class="subtitle">Tap a category to select it</p>

            <div id="categoryGrid" class="category-grid"></div>

            <div class="category-actions">
                <button id="categoryBackBtn" class="btn btn-secondary">Back</button>
            </div>

            <div class="category-create">
                <button id="showCreateCategoryBtn" class="btn btn-success">Create New +</button>

                <div id="categoryCreateForm" class="custom-category-section" style="display: none;">
                    <h3 class="section-title">Create Your Own Category</h3>
                    <input type="text" id="newCategoryName" class="custom-input" placeholder="Category Name (e.g., Inside Jokes)" />
                    <textarea id="newCategoryWords" class="custom-textarea" placeholder="Enter words separated by commas (e.g., Kevin's House, The Old Mall, That One Party)" rows="4"></textarea>
                    <div class="form-actions">
                        <button id="saveNewCategoryBtn" class="btn btn-primary">Save Category</button>
                        <button id="cancelNewCategoryBtn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="gameplayScreen" class="screen">
            <h2 id="categoryDisplay">Category: Loading...</h2>
            
            <div id="playerButtons" class="player-buttons"></div>
            
            <div class="game-actions" style="margin-top: 20px; display: flex; flex-direction: column; gap: 10px;">
                <button id="cancelGameBtn" class="btn btn-danger">Cancel Game</button>
            </div>
        </div>

        <div id="resultsScreen" class="screen">
            <h2>Round Results</h2>

            <div class="results-starter">
                Round Starts With: <span id="resultsStarterName" class="results-starter-name"></span>
            </div>

            <div class="results-reveal">
                <button id="revealImposterBtn" class="btn btn-warning">Reveal Imposter</button>
                <div id="imposterRevealText" class="results-imposter hidden">
                    The Imposter was: <span id="resultsImposterName"></span>
                </div>
            </div>

            <div class="results-actions">
                <button id="resultsPlayAgainBtn" class="btn btn-success">Play Again</button>
                <button id="resultsHomeBtn" class="btn btn-neutral">Home</button>
            </div>
        </div>
    </div>

    <div id="revealModal" class="modal">
        <div class="modal-content">
            <div class="modal-category">Category: <span id="modalCategory"></span></div>
            <div class="modal-word" id="modalWord"></div>
            <button id="closeModalBtn" class="btn btn-primary">Close</button>
        </div>
    </div>

    <div id="startPlayerModal" class="modal">
        <div class="modal-content">
            <div class="modal-announcement" id="startPlayerAnnouncement"></div>
            <button id="closeStartPlayerBtn" class="btn btn-success">Let's Play!</button>
            <button id="playAgainBtn" class="btn btn-primary" style="margin-top: 15px;">Play Again</button>
        </div>
    </div>

    <script src="script.js"></script>
    
</body>
</html>
